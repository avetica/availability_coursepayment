YUI.add("moodle-availability_coursepayment-form",function(n,e){M.availability_coursepayment=M.availability_coursepayment||{},M.availability_coursepayment.form=n.Object(M.core_availability.plugin),M.availability_coursepayment.form.initInner=function(e){console.log("M.availability_coursepayment"),console.log(e)},M.availability_coursepayment.form.getNode=function(e){var a,t,l,i;for(console.log(e),t="<label><b>"+(a=M.str.availability_coursepayment).title+'</b></label><br/><label for="cost">'+a.cost+' </label> <input type="text" placeholder="0.00" name="cost" title="'+a.cost+'" value="10"/><br/><label for="currency">'+a.currency+' </label><select name="currency"><option value="EUR" selected="selected">Euro</option></select><br/><label for="vat">'+a.vat+' </label><br/><select name="vat">',l=0;l<50;l++)t+="<option "+(21===l?'selected="selected"':"")+'value="'+l+'">'+l+"</option>";if(t+="</select>",i=n.Node.create("<span>"+t+"</span>"),e.cost!==undefined&&i.one("input[name=cost]").set("value",e.cost),e.currency!==undefined&&i.one("[name=currency]").set("value",e.currency),e.vat!==undefined&&i.one("[name=vat]").set("value",e.vat),!M.availability_coursepayment.form.addedEvents){M.availability_coursepayment.form.addedEvents=!0;try{n.one("#fitem_id_availabilityconditionsjson").delegate("change",function(){M.core_availability.form.update()},".availability_coursepayment input, .availability_coursepayment select")}catch(o){console.log(o)}M.core_availability.form.update()}return i},M.availability_coursepayment.form.fillValue=function(e,a){e.cost=this.getValue("cost",a),e.currency=this.getValue("currency",a),e.vat=this.getValue("vat",a)},M.availability_coursepayment.form.getValue=function(e,a){var t;return(a=a.one("[name="+e+"]"))&&(t=(t=a.get("value")).replace(/,/g,".")),new RegExp("^\\d.+$").test(t)?"vat"===e?(console.log("vat:"+t),parseInt(t)):parseFloat(t).toFixed(2):(console.log("String:"+t),t)},M.availability_coursepayment.form.fillErrors=function(e,a){var t={},l=new RegExp("^[\\d.]+$");this.fillValue(t,a),t.cost!==undefined&&(l.test(t.cost)||(console.log("cost - availability_coursepayment:error_invalidnumber"),e.push("availability_coursepayment:error_invalidnumber"))),t.vat!==undefined&&(l.test(t.vat)||(console.log("vat - availability_coursepayment:error_invalidnumber "+t.vat),e.push("availability_coursepayment:error_invalidnumber")))}},"@VERSION@");