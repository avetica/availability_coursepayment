YUI.add("moodle-availability_coursepayment-form",function(n,e){M.availability_coursepayment=M.availability_coursepayment||{},M.availability_coursepayment.form=n.Object(M.core_availability.plugin),M.availability_coursepayment.form.initInner=function(e){console.log("M.availability_coursepayment",e)},M.availability_coursepayment.form.getNode=function(e){var a,l,o,t;for(console.log("JSON",e),l="<b>"+(a=M.str.availability_coursepayment).title+'</b><br/> <div class="form-group row">   <label for="cost" class="col-sm-6 col-form-label">'+a.cost+' </label>    <div class="col-sm-6">       <input type="number" step="any" class="form-control" placeholder="0.00" name="cost" title="'+a.cost+'"            value="10"/>   </div></div> <div class="form-group row">   <label for="currency" class="col-sm-6 col-form-label">'+a.currency+' </label>   <div class="col-sm-6">       <select name="currency" class="form-control" >           <option value="EUR" selected="selected">Euro</option>       </select>   </div></div><div class="form-group row">   <label for="vat" class="col-sm-6 col-form-label">'+a.vat+' </label>   <div class="col-sm-6">       <select name="vat" class="form-control" >',o=0;o<50;o++)l+="   <option "+(21===o?'selected="selected"':"")+'value="'+o+'">'+o+"</option>";if(l+="</select>   </div></div>",t=n.Node.create("<div>"+l+"</div>"),e.cost!==undefined&&t.one("input[name=cost]").set("value",e.cost),e.currency!==undefined&&t.one("[name=currency]").set("value",e.currency),e.vat!==undefined&&t.one("[name=vat]").set("value",e.vat),!M.availability_coursepayment.form.addedEvents){M.availability_coursepayment.form.addedEvents=!0;try{n.one("#fitem_id_availabilityconditionsjson")||(console.log("Moodle 3.5 or higher ?"),n.one("#id_availabilityconditionsjson")),n.one("#page").delegate("change",function(){console.log("Change detected"),M.core_availability.form.update()},".availability_coursepayment > input, .availability_coursepayment > select")}catch(i){try{M.core_availability.form.update()}catch(i){}}}return t},M.availability_coursepayment.form.fillValue=function(e,a){e.cost=this.getValue("cost",a),e.currency=this.getValue("currency",a),e.vat=this.getValue("vat",a)},M.availability_coursepayment.form.getValue=function(e,a){var l;return(a=a.one("[name="+e+"]"))&&(l=(l=a.get("value")).replace(/,/g,".")),console.log("GetValue",e+" = "+l),new RegExp("^\\d.+$").test(l)?"vat"===e?(console.log("vat:"+l),parseInt(l)):parseFloat(l).toFixed(2):l},M.availability_coursepayment.form.fillErrors=function(e,a){var l={},o=new RegExp("^[\\d.]+$");this.fillValue(l,a),l.cost!==undefined&&(o.test(l.cost)||(console.log("cost - availability_coursepayment:error_invalidnumber"),e.push("availability_coursepayment:error_invalidnumber"))),l.vat!==undefined&&(o.test(l.vat)||(console.log("vat - availability_coursepayment:error_invalidnumber "+l.vat),e.push("availability_coursepayment:error_invalidnumber")))}},"@VERSION@");