if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-availability_coursepayment-form/moodle-availability_coursepayment-form.js']) {
   __coverage__['build/moodle-availability_coursepayment-form/moodle-availability_coursepayment-form.js'] = {"path":"build/moodle-availability_coursepayment-form/moodle-availability_coursepayment-form.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":50},"end":{"line":1,"column":69}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":64}}},"3":{"name":"(anonymous_3)","line":25,"loc":{"start":{"line":25,"column":44},"end":{"line":25,"column":60}}},"4":{"name":"(anonymous_4)","line":71,"loc":{"start":{"line":71,"column":32},"end":{"line":71,"column":44}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":46},"end":{"line":82,"column":69}}},"6":{"name":"(anonymous_6)","line":101,"loc":{"start":{"line":101,"column":45},"end":{"line":101,"column":68}}},"7":{"name":"(anonymous_7)","line":126,"loc":{"start":{"line":126,"column":47},"end":{"line":126,"column":71}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":149,"column":16}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":66}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":73}},"4":{"start":{"line":20,"column":0},"end":{"line":23,"column":2}},"5":{"start":{"line":21,"column":4},"end":{"line":21,"column":48}},"6":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"7":{"start":{"line":25,"column":0},"end":{"line":80,"column":2}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":22}},"9":{"start":{"line":31,"column":4},"end":{"line":31,"column":51}},"10":{"start":{"line":32,"column":4},"end":{"line":41,"column":30}},"11":{"start":{"line":42,"column":4},"end":{"line":45,"column":5}},"12":{"start":{"line":43,"column":8},"end":{"line":43,"column":63}},"13":{"start":{"line":44,"column":8},"end":{"line":44,"column":79}},"14":{"start":{"line":47,"column":4},"end":{"line":47,"column":24}},"15":{"start":{"line":49,"column":4},"end":{"line":49,"column":58}},"16":{"start":{"line":54,"column":4},"end":{"line":56,"column":5}},"17":{"start":{"line":55,"column":8},"end":{"line":55,"column":61}},"18":{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},"19":{"start":{"line":59,"column":8},"end":{"line":59,"column":64}},"20":{"start":{"line":62,"column":4},"end":{"line":64,"column":5}},"21":{"start":{"line":63,"column":8},"end":{"line":63,"column":54}},"22":{"start":{"line":68,"column":4},"end":{"line":77,"column":5}},"23":{"start":{"line":69,"column":8},"end":{"line":69,"column":61}},"24":{"start":{"line":70,"column":8},"end":{"line":70,"column":65}},"25":{"start":{"line":71,"column":8},"end":{"line":76,"column":84}},"26":{"start":{"line":75,"column":12},"end":{"line":75,"column":46}},"27":{"start":{"line":79,"column":4},"end":{"line":79,"column":16}},"28":{"start":{"line":82,"column":0},"end":{"line":92,"column":2}},"29":{"start":{"line":89,"column":4},"end":{"line":89,"column":45}},"30":{"start":{"line":90,"column":4},"end":{"line":90,"column":53}},"31":{"start":{"line":91,"column":4},"end":{"line":91,"column":43}},"32":{"start":{"line":101,"column":0},"end":{"line":124,"column":2}},"33":{"start":{"line":102,"column":4},"end":{"line":102,"column":14}},"34":{"start":{"line":104,"column":4},"end":{"line":104,"column":48}},"35":{"start":{"line":105,"column":4},"end":{"line":109,"column":5}},"36":{"start":{"line":106,"column":8},"end":{"line":106,"column":34}},"37":{"start":{"line":108,"column":8},"end":{"line":108,"column":41}},"38":{"start":{"line":112,"column":4},"end":{"line":112,"column":36}},"39":{"start":{"line":113,"column":4},"end":{"line":120,"column":5}},"40":{"start":{"line":114,"column":8},"end":{"line":117,"column":9}},"41":{"start":{"line":115,"column":12},"end":{"line":115,"column":40}},"42":{"start":{"line":116,"column":12},"end":{"line":116,"column":35}},"43":{"start":{"line":119,"column":8},"end":{"line":119,"column":44}},"44":{"start":{"line":122,"column":4},"end":{"line":122,"column":35}},"45":{"start":{"line":123,"column":4},"end":{"line":123,"column":17}},"46":{"start":{"line":126,"column":0},"end":{"line":147,"column":2}},"47":{"start":{"line":127,"column":4},"end":{"line":127,"column":19}},"48":{"start":{"line":128,"column":4},"end":{"line":128,"column":38}},"49":{"start":{"line":130,"column":4},"end":{"line":130,"column":32}},"50":{"start":{"line":133,"column":4},"end":{"line":139,"column":5}},"51":{"start":{"line":135,"column":8},"end":{"line":138,"column":9}},"52":{"start":{"line":136,"column":12},"end":{"line":136,"column":81}},"53":{"start":{"line":137,"column":12},"end":{"line":137,"column":74}},"54":{"start":{"line":141,"column":4},"end":{"line":146,"column":5}},"55":{"start":{"line":142,"column":8},"end":{"line":145,"column":9}},"56":{"start":{"line":143,"column":12},"end":{"line":143,"column":93}},"57":{"start":{"line":144,"column":12},"end":{"line":144,"column":74}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":31},"end":{"line":8,"column":59}},{"start":{"line":8,"column":63},"end":{"line":8,"column":65}}]},"2":{"line":43,"type":"cond-expr","locations":[{"start":{"line":43,"column":36},"end":{"line":43,"column":57}},{"start":{"line":43,"column":60},"end":{"line":43,"column":62}}]},"3":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"4":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":4}},{"start":{"line":58,"column":4},"end":{"line":58,"column":4}}]},"5":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"6":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"7":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":4}},{"start":{"line":105,"column":4},"end":{"line":105,"column":4}}]},"8":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"9":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"10":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":4},"end":{"line":133,"column":4}},{"start":{"line":133,"column":4},"end":{"line":133,"column":4}}]},"11":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":8}},{"start":{"line":135,"column":8},"end":{"line":135,"column":8}}]},"12":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":4}},{"start":{"line":141,"column":4},"end":{"line":141,"column":4}}]},"13":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":8}},{"start":{"line":142,"column":8},"end":{"line":142,"column":8}}]}},"code":["(function () { YUI.add('moodle-availability_coursepayment-form', function (Y, NAME) {","","/**"," * JavaScript for form editing grade conditions."," *"," * @module moodle-availability_coursepayment-form"," */","M.availability_coursepayment = M.availability_coursepayment || {};","/**"," * @class M.availability_coursepayment.form"," * @extends M.core_availability.plugin"," */","M.availability_coursepayment.form = Y.Object(M.core_availability.plugin);","/**"," * Initialises this plugin."," *"," * @method initInner"," * @param {Array} param Array of objects"," */","M.availability_coursepayment.form.initInner = function (params) {","    console.log('M.availability_coursepayment');","    console.log(params);","};","","M.availability_coursepayment.form.getNode = function (json) {","    // This function does the main work. It gets called after the user","    // chooses to add an availability restriction of this type. You have","    // to return a YUI node representing the HTML for the plugin controls.","    console.log(json);","","    var strings = M.str.availability_coursepayment;","    var html = '<label><b>' + strings.title + '</b></label><br/>' +","        '<label for=\"cost\">' + strings.cost + ' </label> ' +","        '<input type=\"text\" placeholder=\"0.00\" name=\"cost\" title=\"' + strings.cost + '\"/><br/>' +","        '<label for=\"currency\">' + strings.currency + ' </label>' +","        '<select name=\"currency\">' +","        '<option value=\"EUR\" selected=\"selected\">Euro</option>' +","        '<option value=\"USD\">US Dollar</option>' +","        '</select><br/>' +","        '<label for=\"vat\">' + strings.vat + ' </label><br/>' +","        '<select name=\"vat\">';","    for (var i = 0; i < 50; i++) {","        var selected = (i === 21) ? 'selected=\"selected\"' : '';","        html += '<option ' + selected + 'value=\"' + i + '\">' + i + '</option>';","    }","","    html += '</select>';","","    var node = Y.Node.create('<span>' + html + '</span>');","","    // Set initial values based on the value from the JSON data in Moodle","    // database. This will have values undefined if creating a new one.","","    if (json.cost !== undefined) {","        node.one('input[name=cost]').set('value', json.cost);","    }","","    if (json.currency !== undefined) {","        node.one('[name=currency]').set('value', json.currency);","    }","","    if (json.vat !== undefined) {","        node.one('[name=vat]').set('value', json.vat);","    }","","    // Add event handlers (first time only). You can do this any way you","    // like, but this pattern is used by the existing code.","    if (!M.availability_coursepayment.form.addedEvents) {","        M.availability_coursepayment.form.addedEvents = true;","        var root = Y.one('#fitem_id_availabilityconditionsjson');","        root.delegate('change', function () {","            // The key point is this update call. This call will update","            // the JSON data in the hidden field in the form, so that it","            // includes the new value of the checkbox.","            M.core_availability.form.update();","        }, '.availability_coursepayment input, .availability_coursepayment select');","    }","","    return node;","};","","M.availability_coursepayment.form.fillValue = function (value, node) {","    // This function gets passed the node (from above) and a value","    // object. Within that object, it must set up the correct values","    // to use within the JSON data in the form. Should be compatible","    // with the structure used in the __construct and save functions","    // within condition.php.","","    value.cost = this.getValue('cost', node);","    value.currency = this.getValue('currency', node);","    value.vat = this.getValue('vat', node);","};","","/**"," * Gets the numeric value of an input field. Supports decimal points (using"," * dot or comma)."," *"," * @method getValue"," * @return {Number|String} Value of field as number or string if not valid"," */","M.availability_coursepayment.form.getValue = function (field, node) {","    var value;","    // Get field value.","    var node = node.one('[name=' + field + ']');","    if (node) {","        value = node.get('value');","        // Make , = .","        value = value.replace(/,/g, '.');","    }","","    // If it is not a valid positive number, return false.","    var reg = new RegExp('^\\\\d.+$');","    if (reg.test(value)) {","        if(field === 'vat'){","            console.log('vat:' + value);","            return parseInt(value);","        }","","        return parseFloat(value).toFixed(2);","    }","","    console.log('String:' + value);","    return value;","};","","M.availability_coursepayment.form.fillErrors = function (errors, node) {","    var value = {};","    var reg = new RegExp('^[\\\\d.]+$');","","    this.fillValue(value, node);","","    // Check numeric values.","    if ((value.cost !== undefined)) {","","        if (!reg.test(value.cost)) {","            console.log('cost - availability_coursepayment:error_invalidnumber');","            errors.push('availability_coursepayment:error_invalidnumber');","        }","    }","    // Check vat.","    if ((value.vat !== undefined)) {","        if (!reg.test(value.vat)) {","            console.log('vat - availability_coursepayment:error_invalidnumber ' + value.vat);","            errors.push('availability_coursepayment:error_invalidnumber');","        }","    }","};","","}, '@VERSION@');","","}());"]};
}
var __cov_6XS43y6Fjsam3EFh6mxlyQ = __coverage__['build/moodle-availability_coursepayment-form/moodle-availability_coursepayment-form.js'];
__cov_6XS43y6Fjsam3EFh6mxlyQ.s['1']++;YUI.add('moodle-availability_coursepayment-form',function(Y,NAME){__cov_6XS43y6Fjsam3EFh6mxlyQ.f['1']++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['2']++;M.availability_coursepayment=(__cov_6XS43y6Fjsam3EFh6mxlyQ.b['1'][0]++,M.availability_coursepayment)||(__cov_6XS43y6Fjsam3EFh6mxlyQ.b['1'][1]++,{});__cov_6XS43y6Fjsam3EFh6mxlyQ.s['3']++;M.availability_coursepayment.form=Y.Object(M.core_availability.plugin);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['4']++;M.availability_coursepayment.form.initInner=function(params){__cov_6XS43y6Fjsam3EFh6mxlyQ.f['2']++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['5']++;console.log('M.availability_coursepayment');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['6']++;console.log(params);};__cov_6XS43y6Fjsam3EFh6mxlyQ.s['7']++;M.availability_coursepayment.form.getNode=function(json){__cov_6XS43y6Fjsam3EFh6mxlyQ.f['3']++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['8']++;console.log(json);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['9']++;var strings=M.str.availability_coursepayment;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['10']++;var html='<label><b>'+strings.title+'</b></label><br/>'+'<label for="cost">'+strings.cost+' </label> '+'<input type="text" placeholder="0.00" name="cost" title="'+strings.cost+'"/><br/>'+'<label for="currency">'+strings.currency+' </label>'+'<select name="currency">'+'<option value="EUR" selected="selected">Euro</option>'+'<option value="USD">US Dollar</option>'+'</select><br/>'+'<label for="vat">'+strings.vat+' </label><br/>'+'<select name="vat">';__cov_6XS43y6Fjsam3EFh6mxlyQ.s['11']++;for(var i=0;i<50;i++){__cov_6XS43y6Fjsam3EFh6mxlyQ.s['12']++;var selected=i===21?(__cov_6XS43y6Fjsam3EFh6mxlyQ.b['2'][0]++,'selected="selected"'):(__cov_6XS43y6Fjsam3EFh6mxlyQ.b['2'][1]++,'');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['13']++;html+='<option '+selected+'value="'+i+'">'+i+'</option>';}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['14']++;html+='</select>';__cov_6XS43y6Fjsam3EFh6mxlyQ.s['15']++;var node=Y.Node.create('<span>'+html+'</span>');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['16']++;if(json.cost!==undefined){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['3'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['17']++;node.one('input[name=cost]').set('value',json.cost);}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['3'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['18']++;if(json.currency!==undefined){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['4'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['19']++;node.one('[name=currency]').set('value',json.currency);}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['4'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['20']++;if(json.vat!==undefined){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['5'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['21']++;node.one('[name=vat]').set('value',json.vat);}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['5'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['22']++;if(!M.availability_coursepayment.form.addedEvents){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['6'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['23']++;M.availability_coursepayment.form.addedEvents=true;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['24']++;var root=Y.one('#fitem_id_availabilityconditionsjson');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['25']++;root.delegate('change',function(){__cov_6XS43y6Fjsam3EFh6mxlyQ.f['4']++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['26']++;M.core_availability.form.update();},'.availability_coursepayment input, .availability_coursepayment select');}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['6'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['27']++;return node;};__cov_6XS43y6Fjsam3EFh6mxlyQ.s['28']++;M.availability_coursepayment.form.fillValue=function(value,node){__cov_6XS43y6Fjsam3EFh6mxlyQ.f['5']++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['29']++;value.cost=this.getValue('cost',node);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['30']++;value.currency=this.getValue('currency',node);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['31']++;value.vat=this.getValue('vat',node);};__cov_6XS43y6Fjsam3EFh6mxlyQ.s['32']++;M.availability_coursepayment.form.getValue=function(field,node){__cov_6XS43y6Fjsam3EFh6mxlyQ.f['6']++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['33']++;var value;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['34']++;var node=node.one('[name='+field+']');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['35']++;if(node){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['7'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['36']++;value=node.get('value');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['37']++;value=value.replace(/,/g,'.');}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['7'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['38']++;var reg=new RegExp('^\\d.+$');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['39']++;if(reg.test(value)){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['8'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['40']++;if(field==='vat'){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['9'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['41']++;console.log('vat:'+value);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['42']++;return parseInt(value);}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['9'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['43']++;return parseFloat(value).toFixed(2);}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['8'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['44']++;console.log('String:'+value);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['45']++;return value;};__cov_6XS43y6Fjsam3EFh6mxlyQ.s['46']++;M.availability_coursepayment.form.fillErrors=function(errors,node){__cov_6XS43y6Fjsam3EFh6mxlyQ.f['7']++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['47']++;var value={};__cov_6XS43y6Fjsam3EFh6mxlyQ.s['48']++;var reg=new RegExp('^[\\d.]+$');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['49']++;this.fillValue(value,node);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['50']++;if(value.cost!==undefined){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['10'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['51']++;if(!reg.test(value.cost)){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['11'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['52']++;console.log('cost - availability_coursepayment:error_invalidnumber');__cov_6XS43y6Fjsam3EFh6mxlyQ.s['53']++;errors.push('availability_coursepayment:error_invalidnumber');}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['11'][1]++;}}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['10'][1]++;}__cov_6XS43y6Fjsam3EFh6mxlyQ.s['54']++;if(value.vat!==undefined){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['12'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['55']++;if(!reg.test(value.vat)){__cov_6XS43y6Fjsam3EFh6mxlyQ.b['13'][0]++;__cov_6XS43y6Fjsam3EFh6mxlyQ.s['56']++;console.log('vat - availability_coursepayment:error_invalidnumber '+value.vat);__cov_6XS43y6Fjsam3EFh6mxlyQ.s['57']++;errors.push('availability_coursepayment:error_invalidnumber');}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['13'][1]++;}}else{__cov_6XS43y6Fjsam3EFh6mxlyQ.b['12'][1]++;}};},'@VERSION@');
